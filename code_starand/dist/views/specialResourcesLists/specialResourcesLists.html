<ul class="breadcrumb"><li><i class="icon-home home-icon"></i> <a href="#/home">主页</a></li><li class="active">特价资源管理列表</li></ul><div class="col-xs-12 mb50"><form class="form-inline mb10"><div class="form-group mb10 mr10"><a class="btn btn-primary btn-block" ng-click="jump('/home/addspecialResources')"><i class="icon-plus"></i> 发布资源</a></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="province_id" ng-change="changeProvince()"><option value="">请选择省份</option><option value="{{province.id}}" ng-repeat="province in provinceData">{{province.name}}</option></select></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="city_Id" ng-change="changeCity()"><option value="">请选择市</option><option value="{{city.id}}" ng-repeat="city in cityLists">{{city.name}}</option></select></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="brand_id" ng-change="changeBrand()" name="brand_id"><option value="">请选择品牌</option><option value="{{brand.id}}" data-brand="{{brand.id}}" ng-repeat="brand in brandData">{{brand.name}}</option></select></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="sub_brand_id" name="carmodel_id" ng-change="changeCarModel()"><option value="">请选择车系</option><option value="{{carmodel.id}}" ng-repeat="carmodel in carmodelList" data-price="{{model.refer_price}}">{{carmodel.name}}</option></select></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="model_id" name="model_id" ng-change="changeModel()"><option value="">请选择车型</option><option value="{{model.id}}" ng-repeat="model in modelList" data-price="{{model.refer_price}}">{{model.name}}</option></select></div><div class="form-group mb10 mr10"><select class="form-control" ng-model="state" ng-change="changeType()"><option value="">请选择资源状态</option><option value="0">未上架</option><option value="1">已上架</option><option value="2">已过期</option></select></div></form><div><h4 class="page-tit">特价资源列表</h4><div class="table-responsive"><table class="table table-bordered dataList hover"><thead><tr><th>资源编号</th><th>品牌</th><th>车系</th><th>车型</th><th>发布时间</th><th>到期时间</th><th>可售区域</th><th>发布者</th><th>状态</th><th>操作</th></tr></thead><tbody><tr ng-repeat="resource in resourceData" ng-click="jumpDetail($event,resource.resourceId)"><td ng-bind="resource.resourceCode"></td><td ng-bind="resource.brandName"></td><td ng-bind="resource.subBrandName"></td><td ng-bind="resource.modelName"></td><td ng-bind="resource.gmtCreate | date:'yyyy-MM-dd hh:mm:ss'"></td><td ng-bind="resource.endTime"></td><td ng-bind="resource.saleArea"></td><td ng-bind="resource.createAccount"></td><td ng-class="resource.state==1?'text-success':(resource.state==2?'text-danger':'text-warning')" ng-bind="resource.state==0?'未上架':(resource.state==1?'已上架':'已过期')"></td><td><button class="btn btn-warning btn-xs" ng-click="specialDown($event,resource.resourceId,0)" ng-show="resource.state==1">下架</button> <button class="btn btn-success btn-xs" ng-click="specialUp($event,resource.resourceId,1)" ng-show="resource.state==0">上架</button> <button class="btn btn-info btn-xs" ng-hide="resource.state==1" ng-click="specialEdit($event,resource.resourceId,$index)">编辑</button> <button class="btn btn-danger btn-xs" ng-click="specialDelete($event,resource.resourceId)">删除</button></td></tr></tbody></table></div><div class="page" ck-page></div></div></div><div class="modal fade modalEdit" id="modalEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel"><i class="icon-edit"></i> 车型 <span ng-bind="editIndex"></span> 编辑</h4></div><div class="modal-body"><div class="layui-tab layui-tab-brief" style="margin:0"><ul class="layui-tab-title"><li class="layui-this col-xs-6">车型颜色</li><li class="col-xs-6">车型属性</li></ul><div class="layui-tab-content"><div class="layui-tab-item layui-show"><div class="layui-form-pane editColor"><div class="layui-form-item form-group"><label class="layui-form-label">车型颜色：</label><div class="layui-input-block" ng-hide="edit_out_color_glag"><select multiple="" data-actions-box="true" class="form-control selectpicker show-tick" id="resourceEditColor" ng-model="colors" ng-disabled="true"><option value="">—请选择车型颜色—</option></select></div><div class="layui-input-block" ng-show="edit_out_color_glag"><div class="input-group"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_out_color" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="edit_out_color_glag=false">编辑</button></span></div></div></div></div><form action="" class="layui-form layui-form-pane" autocomplete="off"><div class="layui-form-item"><label class="layui-form-label">内饰颜色：</label><div class="layui-input-block" ng-hide="edit_in_color_glag"><input class="layui-input" type="text" name="" ng-model="edit_in_color" ng-value="edit_in_color" placeholder="— 请输入内饰颜色 —" autocomplete="off" ng-model="editTrimColor"></div><div class="layui-input-block" ng-show="edit_in_color_glag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_in_color" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="edit_in_color_glag=false">编辑</button></span></div></div></div></form></div><div class="layui-tab-item"><form class="layui-form layui-form-pane" autocomplete="off"><div class="layui-form-item"><label class="layui-form-label">车型</label><div class="layui-input-block"><input type="text" name="title" required lay-verify="required" ng-value="editresData.editModelName" autocomplete="off" class="layui-input" ng-disabled="true"></div></div></form><div class="layui-form-pane editArea" ng-hide="edit_area_flag"><div class="form-group"><label class="layui-form-label">销售省份</label><div class="layui-input-block"><div class="dropdown"><button class="btn btn-default dropdown-toggle btn-sm col-xs-12" type="button" data-toggle="dropdown"><span ng-bind="edit_current_change_provice?edit_current_change_provice:'选择省份'"></span> <span class="caret"></span></button><ul class="dropdown-menu"><li class="col-xs-6" data-value="action_value" ng-repeat="provice in editproviceData"><a tabindex="-1" href="javascript:;" ng-bind="provice.name" ng-click="editSelectProvice($event, provice.id)"></a></li></ul></div></div></div><div class="form-group"><label class="layui-form-label">销售地区</label><div class="layui-input-block"><div class="dropdown"><button ng-disabled="editCityBtnShow" class="btn btn-default dropdown-toggle btn-sm col-xs-12" type="button" data-toggle="dropdown"><span ng-bind="edit_current_change_city?edit_current_change_city:'选择地区'"></span> <span class="caret"></span></button><ul class="dropdown-menu"><li class="col-xs-6" data-value="action_value" ng-repeat="city in editCityData" style="padding-left:0"><a role="menuitem" tabindex="-1" href="javascript:;" ng-bind="city.name" ng-click="editSelectCity($event, city.id)"></a></li></ul></div></div></div><div class="form-group sale-area"><label class="layui-form-label">选择的地区</label><div class="layui-input-block"><div class="form-control selectedAreaLists"><ul class="area-list col-xs-12" id="editSelectArea" style="top:5px"><li class="search-choice" ng-repeat="area in editShowselectArea" data-provice-id="{{area.data.pId}}"><span>{{area.data.pName}}</span> <span>{{area.data.cityInfo.cName}}</span><a href="javascript:;" class="icon-remove" ng-click="editRemoveEle($event, $index)"></a></li></ul></div><input type="text" class="form-control hidden" name="area_list" ng-model="editAreaJoin" ng-value="editAreaJoin" disabled="disabled"></div></div></div><div class="layui-form-pane editArea" ng-show="edit_area_flag"><div class="form-group sale-area"><label class="layui-form-label">选择的地区</label><div class="layui-input-block" ng-show="edit_area_flag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_area" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="edit_area_flag=false">编辑</button></span></div></div></div></div><div class="layui-form-pane editArea" ng-hide="edit_area_flag1"><div class="form-group"><label class="layui-form-label">车源所属省</label><div class="layui-input-block"><div class="dropdown"><button class="btn btn-default dropdown-toggle btn-sm col-xs-12" type="button" data-toggle="dropdown"><span ng-bind="edit_current_change_provice1?edit_current_change_provice1:'选择所属省'"></span> <span class="caret"></span></button><ul class="dropdown-menu"><li class="col-xs-6" data-value="action_value" ng-repeat="provice in editproviceData"><a tabindex="-1" href="javascript:;" ng-bind="provice.name" ng-click="editSelectProvice1($event, provice.id)"></a></li></ul></div></div></div><div class="form-group"><label class="layui-form-label">车源所属市</label><div class="layui-input-block"><div class="dropdown"><button ng-disabled="editCityBtnShow1" class="btn btn-default dropdown-toggle btn-sm col-xs-12" type="button" data-toggle="dropdown"><span ng-bind="edit_current_change_city1?edit_current_change_city1:'选择所属市'"></span> <span class="caret"></span></button><ul class="dropdown-menu"><li class="col-xs-6" data-value="action_value" ng-repeat="city in editCityData1" style="padding-left:0"><a role="menuitem" tabindex="-1" href="javascript:;" ng-bind="city.name" ng-click="editSelectCity1($event, city.id)"></a></li></ul></div></div></div><div class="form-group sale-area"><label class="layui-form-label">车源所属地</label><div class="layui-input-block"><div class="form-control selectedAreaLists"><ul class="area-list col-xs-12" id="editSelectArea1" style="top:5px"><li class="search-choice" ng-repeat="area in editShowselectArea1" data-provice-id="{{area.data.pId1}}"><span>{{area.data.pName1}}</span> <span>{{area.data.cityInfo1.cName1}}</span><a href="javascript:;" class="icon-remove" ng-click="editRemoveEle1($event, $index)"></a></li></ul></div><input type="text" class="form-control hidden" name="area_list1" ng-model="editAreaJoin1" ng-value="editAreaJoin1" disabled="disabled"></div></div></div><div class="layui-form-pane editArea" ng-show="edit_area_flag1"><div class="form-group sale-area"><label class="layui-form-label">车源所属地</label><div class="layui-input-block" ng-show="edit_area_flag1"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_area1" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="edit_area_flag1=false">编辑</button></span></div></div></div></div><form class="layui-form layui-form-pane" autocomplete="off"><div class="layui-form-item"><label class="layui-form-label">出厂日期</label><div class="layui-input-block" ng-hide="edit_create_data_flag"><select name="editmanufacture" lay-filter="editmanufacture" ng-model="manufacture"><option value="">— 请选择 —</option><option value="0">一年以内</option><option value="1">半年内</option><option value="2">三个月内</option><option value="3">一年以上</option></select></div><div class="layui-input-block" ng-show="edit_create_data_flag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_create_data" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="editCreatData()">编辑</button></span></div></div></div><div class="layui-form-item"><label class="layui-form-label">资源有效期</label><div class="layui-input-block" ng-hide="edit_model_ok_flag"><input name="end_time" class="layui-input" id="edit_expiration_date" placeholder="自定义日期格式" readonly="readonly" onclick='layui.laydate({elem:this,istime:!0,format:"YYYY-MM-DD hh:mm:ss",min:(new Date).toLocaleDateString()})'></div><div class="layui-input-block" ng-show="edit_model_ok_flag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_model" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="edit_model_ok_flag=false">编辑</button></span></div></div></div><div class="layui-form-item"><label class="layui-form-label">现车/期车</label><div class="layui-input-block" ng-hide="edit_car_type_flag"><select name="editcartype" ng-model="car_type" lay-filter="editcartype"><option value="">— 请选择 —</option><option value="1">现车</option><option value="2">期车</option></select></div><div class="layui-input-block" ng-show="edit_car_type_flag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_car_type" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="editCarType()">编辑</button></span></div></div></div><div class="layui-form-item"><label class="layui-form-label">手续</label><div class="layui-input-block" ng-hide="edit_file_flag"><select name="editattachment" lay-filter="editattachment" ng-model="attachment"><option value="">— 请选择 —</option><option value="0">随车发</option><option value="1">3天内发</option><option value="2">7天内发</option></select></div><div class="layui-input-block" ng-show="edit_file_flag"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_file" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="editFile()">编辑</button></span></div></div></div><blockquote class="layui-elem-quote">报价</blockquote><div class="layui-form-item" ng-hide="edit_show_price_flag"><div class="layui-tab layui-tab-brief" lay-filter="editfavourable"><ul class="layui-tab-title"><li class="layui-this">金额</li><li>点数</li><li>直接报价</li></ul><div class="layui-tab-content clearfix"><div class="layui-tab-item layui-show"><div class="clearfix"><button class="layui-btn col-sm-5" ng-click="editFavourableMoney(-1)" ng-class="edit_has_add_money?'layui-btn-normal':'layui-btn-primary'">优惠金额</button> <button class="layui-btn col-sm-5" ng-click="editFavourableMoney(1)" ng-class="edit_has_add_money?'layui-btn-primary':'layui-btn-normal'">加价金额</button></div><div class="form-group mt15"><div class="input-group"><div class="input-group-addon">金额</div><input type="number" class="form-control" name="editfavourableMoney" placeholder="请输入金额" ng-model="editfavourablemoney"><div class="input-group-addon"><span class="text-danger">万</span></div></div></div></div><div class="layui-tab-item"><div class="clearfix"><button class="layui-btn col-sm-5" ng-click="editFavourablePoint(-1)" ng-class="edit_has_add_point?'layui-btn-normal':'layui-btn-primary'">优惠点数</button> <button class="layui-btn col-sm-5" ng-click="editFavourablePoint(1)" ng-class="edit_has_add_point?'layui-btn-primary':'layui-btn-normal'">上涨点数</button></div><div class="form-group mt15"><div class="input-group"><div class="input-group-addon">点数</div><input type="number" class="form-control" name="editfavourablePoint" placeholder="请输入点数" ng-model="editfavourablepoint"><div class="input-group-addon"><span class="text-danger">点</span></div></div></div></div><div class="layui-tab-item"><div class="form-group mt15"><div class="input-group"><div class="input-group-addon">金额</div><input type="text" class="form-control" name="edit_sale_price" placeholder="请输入报价金额" ng-model="edit_sale_price"><div class="input-group-addon"><span class="text-danger">万</span></div></div></div></div></div></div></div><div class="layui-form-item" ng-show="edit_show_price_flag"><label class="layui-form-label" style="padding:8px">当前价格</label><div class="layui-input-block"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_current_price" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="editPrice()">编辑</button></span></div></div></div><div class="layui-form-item" ng-hide="edit_show_price_flag1"><div class="input-group"><div class="input-group-addon">订金</div><input type="number" class="form-control" placeholder="请输入订金" ng-model="front_price"><div class="input-group-addon"><span class="text-danger">元</span></div></div></div><div class="layui-form-item" ng-show="edit_show_price_flag1"><label class="layui-form-label" style="padding:8px">订金</label><div class="layui-input-block"><div class="input-group editColor"><input type="text" class="form-control edit-btn" ng-model="editresData.edit_current_price1" disabled="disabled"> <span class="input-group-btn"><button class="btn btn-info" type="button" ng-click="editPrice1()">编辑</button></span></div></div></div><blockquote class="layui-elem-quote">备注</blockquote><div class="layui-form-item layui-form-text"><label class="layui-form-label" style="margin-bottom:0">备注型文字/说明性文字</label><div class="layui-input-block"><textarea name="extra" placeholder="" class="layui-textarea" ng-model="editresData.edit_extra"></textarea></div></div></form></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="singleSave()">保存</button></div></div></div></div>