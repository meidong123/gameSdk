<ul class="breadcrumb"><li><i class="icon-home home-icon"></i> <a href="#/home">主页</a></li><li class="active">组织管理</li></ul><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><form class="form-inline mb10"><div class="form-group"><a class="btn btn-primary btn-block" href="#/home/cms/addUnit?unit_id={{unit_id}}&co_name={{co_name}}"><i class="icon-plus"></i> 新增组织</a></div></form><div class="content-box"><table class="table table-striped dataList hover"><thead><tr><th>&nbsp;&nbsp;<span>组织名称</span></th><th>操作时间</th><th>操作</th></tr></thead><tbody id="unit_list"></tbody></table></div></div><div class="col-xs-12 col-sm-5"><form class="form-inline mb10"><div class="form-group"><button class="btn btn-primary btn-block" data-toggle="modal" data-target="#addRoleModal" ng-disabled="addRoleBtn"><i class="icon-plus"></i> 新增角色</button></div></form><div class="content-box"><table class="table dataList hover"><thead><tr><th>&nbsp;&nbsp;角色名称</th><th>操作时间</th><th>操作</th></tr></thead><tbody id="role_list"><tr><td colspan="3">暂未选中组织...</td></tr></tbody></table></div></div></div></div><div class="col-xs-12 mb50"><form class="form-inline mb10"><div class="form-group"><input type="text" class="form-control" placeholder="请输入账号" ng-model="account"></div><div class="form-group"><button class="btn btn-primary btn-block" ng-disabled="addUserBtn" ng-click="bindUser()"><i class="icon-plus"></i> 绑定用户</button></div></form><div class=""><table class="table table-bordered dataList"><thead><tr><th>账号</th><th>电话号码</th><th>姓名</th><th>操作</th></tr></thead><tbody><tr ng-repeat="user in  user_list" ng-show="user_list.length>0"><td ng-bind="user.account"></td><td ng-bind="user.mobile"></td><td ng-bind="user.realname"></td><td><a title="删除用户" ng-click="deleteUser(user.id)"><i class="icon-trash delete"></i></a></td></tr><tr ng-show="user_list.length==0"><td colspan="5">暂无数据...</td></tr></tbody></table></div></div><div class="modal fade" tabindex="-1" role="dialog" id="editUnit"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">修改组织</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">组织名称：</label><div class="col-sm-9"><input type="text" class="form-control" name="unit_name"></div></div></form></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="updateUnit()">保存</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="editRole"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">修改角色</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">角色名称：</label><div class="col-sm-9"><input type="text" class="form-control" name="role_name"></div></div></form></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="updateRole()">保存</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="addRoleModal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">添加角色</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">角色名称：</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="role_name"></div></div></form></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="createRole()">创建</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="unit_power_list"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div>该组织绑定的权限列表</div></div><div class="modal-body"><div class="table-responsive" ng-show="data_list.length>0"><table class="table table-striped dataList hover"><thead><tr><th><input type="checkbox" class="checkAll"></th><th>权限名称</th><th>权限标识</th><th>备注</th></tr></thead><tbody><tr ng-repeat="list in data_list"><td><input type="checkbox" class="checkSingle" ng-value="list.power_id"></td><td ng-bind="list.name"></td><td ng-bind="list.permission"></td><td ng-bind="list.remark"></td></tr></tbody></table></div><p ng-show="data_list.length==0">暂无任何权限..</p></div><div class="modal-footer"><button class="btn btn-default" data-dismiss="modal">取消</button> <button class="btn btn-danger" ng-click="deleteUnitPower()">删除选中</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="add_unit_power"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><p class="modal-title">权限列表</p></div><div class="modal-body"><div class="table-responsive"><table class="table table-striped dataList hover"><thead><tr><th><input type="checkbox" class="checkAll"></th><th>权限名称</th><th>权限标识</th><th>备注</th></tr></thead><tr ng-repeat="power in allPower"><td><input type="checkbox" ng-value="power.power_id" class="checkSingle"></td><td ng-bind="power.name"></td><td ng-bind="power.permission"></td><td ng-bind="power.remark"></td></tr></table></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="addUnitPower()">添加组织权限</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="role_power_list"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><p>该角色绑定的权限列表</p></div><div class="modal-body"><div class="table-responsive" ng-show="data_list.length>0"><table class="table table-striped dataList hover"><thead><tr><th><input type="checkbox" class="checkAll"></th><th>权限名称</th><th>权限标识</th><th>备注</th></tr></thead><tbody><tr ng-repeat="list in data_list"><td><input type="checkbox" class="checkSingle" ng-value="list.power_id"></td><td ng-bind="list.name"></td><td ng-bind="list.permission"></td><td ng-bind="list.remark"></td></tr></tbody></table></div><p ng-show="data_list.length==0">该角色暂无任何权限..</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-danger" ng-click="deleteRolePower()">删除选中</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="add_role_power"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><p class="modal-title">该角色所属组织绑定的权限列表</p></div><div class="modal-body"><div class="table-responsive" ng-show="data_list.length>0"><table class="table table-striped dataList hover"><thead><tr><th><input type="checkbox" class="checkAll"></th><th>权限名称</th><th>权限标识</th><th>备注</th></tr></thead><tr ng-repeat="data in data_list"><th><input type="checkbox" ng-value="data.power_id" class="checkSingle"></th><td ng-bind="data.name"></td><td ng-bind="data.permission"></td><td ng-bind="data.remark"></td></tr></table></div><p ng-show="data_list.length==0">该角色所属组织暂无任何权限..</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="addRolePower()">添加角色权限</button></div></div></div></div>