<style>.programme-tit{padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee;font-weight:700;font-size:14px}.programme-content .content-list{padding-top:10px;padding-bottom:10px}.programme-content .content-item{cursor:pointer;border-bottom:1px solid #f5f5f5}.programme-content-bg{background:#0f88eb;color:#fff}.prevAll dt{text-align:left}.h{height:300px;overflow-y:scroll;margin-bottom:0}.show_area li{float:left;position:relative;background:#91b8d0;color:#fff;padding:2px 4px;margin-right:10px;margin-bottom:4px}.show_area li a{padding-left:6px;color:#337ab7}#autoForm>div:nth-child(15)>div.col-sm-6.col-sm-offset-3>div.note-editor.note-frame.panel.panel-default>div.modal.in>div>div>div.modal-body>div.form-group{margin-left:0;margin-right:0}@media (min-width:768px){.prevAll .dl-horizontal dt{width:80px}.prevAll .dl-horizontal dd{margin-left:80px}}@media (min-width:992px){.modal-lg{width:1200px}}</style><ul class="breadcrumb"><li><i class="icon-home home-icon"></i> <a href="#/home">主页</a></li><li><a href="#/home/cms/justRentLists">正租资源列表</a></li><li class="active" ng-bind="title"></li></ul><div class="col-xs-12 mb50"><form class="form-horizontal" id="autoForm" name="addAutoForm"><div class="form-group"><label class="col-sm-3 control-label">品牌：</label><div class="col-sm-6"><select ng-model="brand_id" class="form-control" ng-change="changeBrand()" name="brand_id" ng-options="brand.id as brand.name for brand in brandList"><option value="">请选择品牌</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">子品牌：</label><div class="col-sm-6"><select class="form-control" ng-model="sub_brand_id" ng-change="changeSubBrand()" name="sub_brand_id" ng-options="subBrand.id as subBrand.name for subBrand in subBrandList"><option value="">请选择子品牌</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">车型：</label><div class="col-sm-6"><select class="form-control" ng-model="model_id" name="model_id" ng-change="changeModel()" ng-options="model.id as model.name for model in modelList"><option value="">请选择车型</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">内饰颜色:</label><div class="col-sm-6"><input type="text" class="form-control" ng-model="interior" placeholder="请输入内饰颜色"></div></div><div class="form-group"><label class="col-sm-3 control-label">外观颜色:</label><div class="col-sm-6"><input type="text" class="form-control" ng-model="colors" placeholder="请输入内饰颜色"></div></div><div class="form-group"><label class="col-sm-3 control-label">指导价：</label><div class="col-sm-6"><div class="input-group"><input type="text" autocomplete="off" class="form-control" placeholder="指导价" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value" name="fares" ng-model="fares" ng-blur="changePrice()" ng-focus="focusPrice()"> <span class="input-group-addon">万</span></div></div></div><div class="form-group"><label class="col-sm-3 control-label">销售价：</label><div class="col-sm-6"><div class="input-group"><input type="text" autocomplete="off" class="form-control" placeholder="请输入销售价" name="sale_price" ng-model="sale_price" ng-blur="changePrice()" ng-focus="focusPrice()" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon">万</span></div></div></div><div class="form-group"><label class="col-sm-3 control-label">开票价：</label><div class="col-sm-6"><div class="input-group"><input type="text" autocomplete="off" class="form-control" placeholder="开票价" name="face_price" ng-model="face_price" ng-blur="changePrice()" ng-focus="focusPrice()" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon">万</span></div></div></div><div class="form-group"><label class="col-sm-3 control-label">出厂日期：</label><div class="col-sm-6"><select class="form-control" name="manufacture" ng-model="manufacture"><option value="">请选择生产日期</option><option value="0">三个月之内</option><option value="1">一年内</option><option value="2">一年以上</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">金融方案：</label><div class="col-sm-6" ng-show="has_select_programe"><a href="javascript:;" class="btn btn-info" ng-click="editProgramme()">编辑方案</a> <a href="javascript:;" class="btn btn-primary" ng-click="selectProgramme()">选择方案</a></div><div class="col-sm-6" ng-hide="has_select_programe"><strong style="color:#f0ad4e;font-size:14px;line-height:2">方案选择最多4个,删除已有的才能重新操作！！！</strong></div></div><div class="form-group" ng-hide="overEditProgrammeList.length == 0"><label class="col-sm-3 control-label">编辑方案展示：</label><div class="col-sm-6"><ul class="list-group" style="max-height:230px;overflow-y:auto"><li class="list-group-item list-group-item-success clearfix" ng-repeat="o in overEditProgrammeList"><span ng-bind="o.programmeName"></span><div class="pull-right"><button class="btn btn-info btn-xs" ng-click="showListProgramme($index)">查看</button> <button class="btn btn-primary btn-xs" ng-click="editListProgramme($index)">编辑</button> <button class="btn btn-danger btn-xs" ng-click="deleteListProgramme($index)">删除</button></div></li></ul></div></div><div class="form-group" ng-show="showProgrammeLists.length > 0"><label class="col-sm-3 control-label">选择方案展示：</label><div class="col-sm-6"><div class="panel panel-warning" ng-repeat="list in showProgrammeLists"><div class="panel-heading clearfix" style="font-size:16px"><span ng-bind="list.name"></span> <button style="margin-left:10px" class="btn btn-info pull-right btn-xs" ng-click="seeProgramme($index)">查看方案详情</button> <button class="btn btn-danger pull-right btn-xs" ng-click="deleteProgramme($index, list.id)">删除方案</button></div><div class="panel-body"><div class="table-responsive"><table class="table"><thead><tr><th>首付（万）</th><th>期数</th><th>月供（元）</th><th>返佣（元）</th></tr></thead><tbody><tr ng-repeat="sub in list.calculation_result"><td ng-bind="sub.down_payment"></td><td ng-bind="sub.periods"></td><td ng-bind="sub.price_month"></td><td ng-bind="sub.price_rebate"></td></tr></tbody></table></div></div></div></div></div><div class="form-group"><label class="col-sm-3 control-label">资源有效期：</label><div class="col-sm-6"><input type="text" ng-model="expiration_date" class="form-control" id="resEffectiveData" placeholder="请选择车源有效期" readonly="readonly"></div></div><div class="form-group"><label class="col-sm-3 control-label">资源所在地：</label><div class="col-sm-3"><select class="form-control" ng-model="province_id" ng-change="seleProvince()" ng-options="pro.id as pro.name for pro in provinceLists" ng-init="1"><option value="" disabled="disabled">省份选择</option></select></div><div class="col-sm-3"><select class="form-control" ng-model="city_id" ng-options="city.id as city.name for city in aresCityLists"><option value="" disabled="disabled">城市选择</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">车型亮点：</label><div class="col-sm-6 mb10"><a href="javascript:;" class="btn btn-primary" ng-click="highlightsEdit()" ng-show="has_lighlights_edit">编辑</a> <a href="javascript:;" class="btn btn-info" ng-click="highlightsClear()" ng-hide="has_lighlights_edit">取消</a> <a href="javascript:;" class="btn btn-success" ng-click="highlightsSave()" ng-hide="has_lighlights_edit">保存</a></div><div class="col-sm-6 col-sm-offset-3"><div id="highlightsEdit"></div></div></div><div class="form-group"><label class="col-sm-3 control-label">备注：</label><div class="col-sm-6"><textarea class="form-control" rows="4" style="resize:none" name="extra" ng-model="extra" placeholder="备注信息"></textarea></div></div><div class="form-group mt20"><div class="col-sm-offset-3 col-sm-3 col-xs-12 authentication"><button class="btn btn-success btn-block" ng-click="sendAddInfo()" ng-disabled="has_click_release" style="margin-bottom:10px">发布</button></div><div class="col-sm-3 col-xs-12 authentication"><a href="javascript:;" class="btn btn-info btn-block" ng-click="modelPreview()">预览</a></div></div></form></div><div class="modal fade modelShow bs-example-modal-lg" tabindex="-1" role="dialog" id="programmeModal"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">选择金融方案</h4></div><div class="modal-body"><div class="programme-tit clearfix"><div class="col-xs-3">公司</div><div class="col-xs-3">方案名称</div><div class="col-xs-3">方案内容</div></div><div class="programme-content"><div class="clearfix content-item" ng-repeat="item in programmeLists" data-id="{{item.id}}" ng-click="getProgramme($event, $index)" ng-class="item.has_check?'programme-content-bg':''"><div class="col-xs-3 content-list" ng-bind="item.company_name"></div><div class="col-xs-3 content-list" ng-bind="item.name"></div><div class="col-xs-6 content-list"><div class="clearfix"><div class="col-sm-3">万元系数：</div><div class="col-sm-9 row"><span ng-repeat="x in item.coefficients">{{x.finance_year}}年{{x.coefficient}}、</span></div></div><div class="clearfix"><div class="col-sm-3">加融项：</div><div class="col-sm-9 row"><span ng-show="item.purchase_tax">购置税、</span> <span ng-show="item.finance_gps">GPS({{item.finance_gps}})、</span> <span ng-show="item.finance_insure">保险(开票价{{item.finance_insure * 100 | number:2}}%)、</span> <span ng-show="item.finance_procedure">手续费({{item.finance_procedure}})</span></div></div></div></div></div><div class="clearfix"><div class="page" ck-page></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="closeProgrammesModel()">关闭</button> <button type="button" class="btn btn-primary" ng-click="orderProgramme()">确定</button></div></div></div></div><div class="modal fade modelShow" tabindex="-1" role="dialog" id="prevProgramme"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">方案预览</h4></div><div class="modal-body"><blockquote><p ng-bind="seeProgrammeData.company_name"></p></blockquote><dl class="dl-horizontal"><dt>方案名称</dt><dd ng-bind="seeProgrammeData.name"></dd><dt>适用区域</dt><dd><span ng-repeat="d in seeProgrammeData.areas">{{d.province_name}}{{d.city_name}}{{d.district_name}}、</span></dd><dt>万元系数</dt><dd><span ng-repeat="w in seeProgrammeData.coefficients">{{w.finance_year}}年{{w.coefficient}}、</span></dd><dt>首付比例</dt><dd>{{seeProgrammeData.down_payment * 100 | number:2}}%</dd><dt>加融项</dt><dd><span ng-show="seeProgrammeData.purchase_tax">购置税、</span> <span>GPS（{{seeProgrammeData.finance_gps}}元）、</span> <span>保险（开票价{{seeProgrammeData.finance_insure * 100 | number:2}}%）、</span> <span>手续费（{{seeProgrammeData.finance_procedure}}元）</span></dd><dt>返佣</dt><dd><span ng-repeat="f in seeProgrammeData.commissions">{{f.finance_year}}年{{f.commission*100|number:2}}%、</span></dd><dd><span style="margin-right:20px">GPS返佣：{{seeProgrammeData.commission_gps?seeProgrammeData.commission_gps:0}}元</span> <span>手续费返佣：{{seeProgrammeData.commission_procedure?seeProgrammeData.commission_procedure:0}}元</span></dd><dt>方案说明</dt><dd ng-bind="seeProgrammeData.finance_desc"></dd></dl><blockquote><p>申请条件</p></blockquote><dl class="dl-horizontal"><dt>申请人年龄</dt><dd ng-bind="seeProgrammeData.proposer_age"></dd><dt>基本资料</dt><dd ng-bind="seeProgrammeData.proposer_card"></dd><dt>其他资料</dt><dd ng-bind="seeProgrammeData.proposer_rests"></dd></dl></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div><div class="modal fade modelShow" tabindex="-1" role="dialog" id="prevAll"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">资源信息</h4></div><div class="modal-body"><div class="clearfix row prevAll"><div class="col-sm-6"><dl class="dl-horizontal"><dt>品牌：</dt><dd ng-bind="brandName"></dd><dt>车型：</dt><dd ng-bind="modelName"></dd><dt>销售价：</dt><dd>{{sale_price}} 万</dd><dt>出厂日期：</dt><dd ng-bind="manufacture"></dd></dl></div><div class="col-sm-6"><dl class="dl-horizontal"><dt>子品牌：</dt><dd ng-bind="subBrandName"></dd><dt>指导价：</dt><dd ng-bind="guidance_price"></dd><dt>开票价：</dt><dd>{{fares}} 万</dd></dl></div></div><div><dl><dt>金融方案：</dt><dd><div class="panel panel-warning" ng-repeat="list in showProgrammeLists"><div class="panel-heading clearfix" style="font-size:16px"><span ng-bind="list.name"></span></div><div class="panel-body"><div class="table-responsive"><table class="table"><thead><tr><th>首付（万）</th><th>期数</th><th>月供（元）</th><th>返佣（元）</th></tr></thead><tbody><tr ng-repeat="sub in list.calculation_result"><td ng-bind="sub.down_payment"></td><td ng-bind="sub.periods"></td><td ng-bind="sub.price_month"></td><td ng-bind="sub.price_rebate"></td></tr></tbody></table></div></div></div></dd></dl></div><div><dl><dt>资源有效期：</dt><dd ng-bind="expiration_date"></dd></dl></div><div><dl><dt>备注说明：</dt><dd ng-bind="extra"></dd></dl></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">关闭</button></div></div></div></div><div class="modal fade bs-example-modal-lg" id="editProgramme" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="panel panel-primary" style="margin-bottom:0"><div class="panel-heading clearfix"><h3 class="panel-title pull-left">编辑方案</h3><div class="pull-right"><button class="btn btn-default" ng-click="closedEditModel()">关闭</button> <button class="btn btn-success" ng-click="saveProgramme()">保存</button></div></div><div class="panel-body" style="padding:8px"><div><form class="form-horizontal"><div class="form-group"><label for="" class="col-sm-2 control-label">方案名称：</label><div class="col-sm-10"><input type="text" class="form-control" maxlength="5" placeholder="输入方案名称" ng-model="programmeName"></div></div></form><div class="panel panel-info"><div class="panel-heading"><div class="clearfix">方案 <button class="btn btn-sm btn-info pull-right" ng-click="addConceptual()"><i class="icon-plus"></i>&nbsp;方案期数新增</button></div></div><div class="panel-body" style="padding:5px;max-height:530px;overflow-y:auto"><div class="programe-list" ng-repeat="item in conceptualLists"><div class="panel panel-warning" style="margin-bottom:0"><div class="panel-heading"><div class="clearfix">方案期数&nbsp; <span ng-bind="$index+1"></span> <button class="btn btn-sm btn-danger pull-right" ng-click="deleteConceptual($index)" ng-hide="conceptualLists.length == 1"><i class="icon-trash"></i>&nbsp;删除</button></div></div><div class="panel-body" style="padding:0"><div class="table-responsive"><table class="table table-bordered"><tr><th>首付(万)</th><th>月供(元)</th><th>期数(期)</th><th class="clearfix"><span class="pull-left">尾款</span> <button class="btn btn-xs btn-success pull-right" ng-show="item.type>2" ng-click="addRetainage($index)"><i class="icon-plus"></i>&nbsp;尾款新增</button></th></tr><tr style="font-size:12px"><td style="padding:10px 2px"><input type="text" class="form-control" placeholder="首付" ng-model="$parent.conceptualLists[$index].downPayments" style="padding:6px 5px" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"></td><td style="padding:10px 2px"><input type="text" class="form-control" placeholder="月供" ng-model="$parent.conceptualLists[$index].monthPayments" style="padding:6px 5px" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"></td><td style="padding:10px 2px"><input type="text" class="form-control" placeholder="期数" ng-model="$parent.conceptualLists[$index].periods" style="padding:6px 5px" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"></td><td style="padding:3px"><div class="clearfix form-group-sm"><div class="radio pull-left" style="margin-top:0"><label><input type="radio" value="1" ng-model="$parent.conceptualLists[$index].type" style="margin-left:-15px;margin-top:2px" ng-click="changeRetainageType($index)" checked="checked">无尾款</label></div><div class="radio pull-left" style="margin-top:0"><label><input type="radio" value="2" ng-model="$parent.conceptualLists[$index].type" style="margin-left:-15px;margin-top:2px" ng-click="changeRetainageType($index)">一次性还清</label></div><div class="radio pull-left" style="margin-top:0"><label><input type="radio" value="3" ng-model="$parent.conceptualLists[$index].type" style="margin-left:-15px;margin-top:2px" ng-click="changeRetainageType($index)">分期还(年还)</label></div><div class="radio pull-left" style="margin-top:0"><label><input type="radio" value="4" ng-model="$parent.conceptualLists[$index].type" style="margin-left:-15px;margin-top:2px" ng-click="changeRetainageType($index)">分期还(月还)</label></div></div><div><div ng-show="item.type==2"><form class="form-inline"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="元" ng-model="$parent.conceptualLists[$index].money" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"><div class="input-group-addon">元</div></div></div></form></div><div ng-show="item.type==3"><div class="form-inline" style="margin-bottom:5px" ng-repeat="li in item.retainage"><div class="form-group form-group-sm"><div class="input-group"><input type="text" class="form-control" placeholder="几年" ng-model="$parent.conceptualLists[$parent.$index].retainage[$index].year" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon" style="font-size:12px">(年)</span> <span class="input-group-addon" style="font-size:12px">后需支付</span> <input type="text" class="form-control" placeholder="元" ng-model="$parent.conceptualLists[$parent.$index].retainage[$index].money" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon" style="font-size:12px">元</span></div></div><button type="submit" class="btn btn-danger btn-xs" style="margin-left:5px" ng-click="deleteRetainage($parent.$index, $index)" ng-hide="$parent.conceptualLists[$parent.$index].retainage.length == 1">删除</button></div></div><div ng-show="item.type==4"><div class="form-inline" style="margin-bottom:5px" ng-repeat="li in item.retainage"><div class="form-group form-group-sm"><div class="input-group"><input type="text" class="form-control" placeholder="几期" ng-model="$parent.conceptualLists[$parent.$index].retainage[$index].num" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon" style="font-size:12px">(期)</span> <input type="text" class="form-control" placeholder="元" ng-model="$parent.conceptualLists[$parent.$index].retainage[$index].money" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"> <span class="input-group-addon" style="font-size:12px">元</span></div></div><button type="submit" class="btn btn-danger btn-xs" style="margin-left:5px" ng-click="deleteRetainage($parent.$index, $index)" ng-hide="$parent.conceptualLists[$parent.$index].retainage.length == 1">删除</button></div></div></div></td></tr></table></div></div></div></div></div></div><form class="form-horizontal"><div class="form-group"><label class="col-md-2 control-label">销售区域：</label><div class="col-sm-10"><div class="panel panel-default"><div class="panel-heading">选择地区</div><div class="panel-body"><ul class="show_area clearfix"><li class="clearfix" ng-repeat="item in showOrderSelectAraeData"><span>{{item.p_name}}{{item.c_name}}{{item.t_name}}</span> <a href="javascript:;" class="pull-right" ng-click="delete($index)"><i class="icon-remove"></i></a></li></ul><button ng-hide="isShow" ng-click="isShow=true" class="btn btn-primary">选择区域</button><div ng-show="isShow"><div class="clearfix row" style="margin-top:10px;border-top:1px solid #ddd"><div class="col-sm-4"><div class="list-group h"><a href="javascript:;" class="list-group-item" ng-repeat="provice in proviceLists" ng-bind="provice.name" ng-click="selectProvice($event, provice.id, provice.name)"></a></div></div><div class="col-sm-4"><div class="list-group h"><a href="javascript:;" class="list-group-item" ng-repeat="city in cityLists" ng-bind="city.name" ng-click="selectCity($event, city.id, city.name)"></a></div></div><div class="col-sm-4"><div class="list-group h" id="town_lists"><a href="javascript:;" class="list-group-item" ng-repeat="town in townLists" ng-bind="town.name" ng-click="selectTown($event, town.id, town.name)"></a></div></div></div><div style="margin-top:10px"><button class="btn btn-primary" ng-click="orderSelectArea();">确定</button> <button class="btn btn-default" ng-click="showSelectArea();">关闭</button></div></div></div></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">手续费：</label><div class="col-sm-10"><input type="text" class="form-control" placeholder="手续费" ng-model="serviceCharge" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">返佣金额：</label><div class="col-sm-10"><input type="text" class="form-control" placeholder="返佣金额" ng-model="rebate" t_value="" o_value="" onkeypress="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onkeyup="this.value.match(/^[\+\-]?\d*?\.?\d*?$/)?this.t_value=this.value:this.value=this.t_value,this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?)?$/)&&(this.o_value=this.value)" onblur="this.value.match(/^(?:[\+\-]?\d+(?:\.\d+)?|\.\d*?)?$/)?(this.value.match(/^\.\d+$/)&&(this.value=0+this.value),this.value.match(/^\.$/)&&(this.value=0),this.o_value=this.value):this.value=this.o_value"></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">车辆归属：</label><div class="col-sm-10"><textarea class="form-control" rows="3" ng-model="carAscription" placeholder="输入车辆归属"></textarea></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">申请条件与资料：</label><div class="col-sm-10"><div><table class="table table-bordered"><tr><td>申请人年龄</td><td><textarea class="form-control" rows="2" ng-model="age" placeholder="输入申请年龄"></textarea></td></tr><tr><td>基本资料</td><td><textarea class="form-control" rows="2" ng-model="basicInfo" placeholder="输入基本资料"></textarea></td></tr><tr><td>其他资料</td><td><textarea class="form-control" rows="2" ng-model="incomeInfo" placeholder="输入其他资料"></textarea></td></tr></table></div></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">购车须知：</label><div class="col-sm-10"><textarea class="form-control" rows="3" ng-model="buyNotice" placeholder="输入购车须知"></textarea></div></div><div class="form-group"><label for="" class="col-sm-2 control-label">方案说明：</label><div class="col-sm-10"><textarea class="form-control" rows="3" ng-model="proExplain" placeholder="输入方案说明"></textarea></div></div></form></div></div></div></div></div></div><div class="modal fade bs-example-modal-lg" id="showProgramme" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"><div class="modal-dialog modal-lg" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">方案详情</h4></div><div class="modal-body"><div><dl class="dl-horizontal"><dt>方案名称：</dt><dd ng-bind="showProgrammeData.programmeName"></dd></dl><div><div class="panel panel-info" ng-repeat="item in showProgrammeData.editprogrammeData"><div class="panel-heading">方案期数&nbsp; <span ng-bind="$index+1"></span></div><div class="panel-body" style="padding:0"><div class="table-responsive"><table class="table table-bordered"><tr><th>首付（万）</th><th>月供（元）</th><th>期数（期）</th><th>尾款</th></tr><tr><td ng-bind="item.downPayments"></td><td ng-bind="item.monthPayments"></td><td ng-bind="item.periods"></td><td><ul ng-show="item.retainage.length>0"><li ng-repeat="li in item.retainage"><div style="color:#169bd5"><span ng-show="item.type == 1">无尾款</span> <span ng-show="item.type == 2">一次性付清</span> <span ng-show="item.type == 3">分期还（年还）</span> <span ng-show="item.type == 4">分期还（月还）</span></div><div><span ng-show="item.type == 2" ng-bind="item.money+'元'"></span> <span ng-show="item.type == 3">{{li.year}}年后需支付{{li.money}}元</span> <span ng-show="item.type == 4">{{li.num}}期，每期支付{{li.money}}元</span></div></li></ul><span ng-hide="item.retainage.length>0">无尾款</span></td></tr></table></div></div></div></div><dl class="dl-horizontal"><dt>手续费：</dt><dd ng-bind="showProgrammeData.serviceCharge"></dd></dl><dl class="dl-horizontal"><dt>车辆归属：</dt><dd ng-bind="showProgrammeData.carAscription"></dd></dl><dl class="dl-horizontal"><dt>申请条件与资料：</dt><dd><table class="table table-bordered"><tr><td>申请人年龄</td><td ng-bind="showProgrammeData.age"></td></tr><tr><td>基本资料</td><td ng-bind="showProgrammeData.basicInfo"></td></tr><tr><td>收入类资料</td><td ng-bind="showProgrammeData.incomeInfo"></td></tr></table></dd></dl><dl class="dl-horizontal"><dt>购车须知：</dt><dd ng-bind="showProgrammeData.buyNotice"></dd></dl><dl class="dl-horizontal"><dt>方案说明：</dt><dd ng-bind="showProgrammeData.proExplain"></dd></dl></div></div><div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal">确定</button></div></div></div></div>