<ul class="breadcrumb"><li><i class="icon-home home-icon"></i> <a href="#/home">主页</a></li><li class="active">菜单管理</li></ul><div class="col-xs-12 mb50"><form class="form-inline mb10"><div class="form-group"><a class="btn btn-primary btn-block" href="#/home/cms/addMenu"><i class="icon-plus"></i> 新增菜单</a></div><div class="form-group"><a class="btn btn-info btn-block" href="#/home/cms/menuCategory">菜单分类管理</a></div><div class="form-group"><label>菜单分类</label> <select class="form-control" ng-model="assortment_id" ng-change="changeCategory()"><option value="">全部</option><option value="{{category.id}}" ng-repeat="category in category_list">{{category.assortment_name}}</option></select></div></form><div class="table-responsive"><table class="table table-striped dataList"><thead><tr><th>菜单名称</th><th>菜单别名</th><th>图标</th><th>菜单编号</th><th>链接</th><th>菜单类型</th><th>简介</th><th>操作时间</th><th>操作</th></tr></thead><tbody><tr ng-repeat="list in menu_list"><td>{{list.name}}</td><td>{{list.alias}}</td><td><img ng-if="list.picture" style="height:40px" ng-src="{{ IP + list.picture}}" alt=""></td><td>{{list.code}}</td><td>{{list.uri?list.uri:''}}</td><td>{{list.type==1?'cms':'app'}}</td><td>{{list.remark}}</td><td>{{list.last_time}}</td><td><a class="checkMenuPower" title="查看菜单权限" ng-click="checkMenuPower($event,list.menu_id)"><i class="icon-cogs icon-large"></i> </a><a class="bindMenuPower" title="添加菜单权限" ng-click="bindMenuPower($event,list.menu_id)"><i class="icon-plus icon-large"></i> </a><a class="edit editMenu" title="编辑菜单" ng-click="editMenu($event,list.menu_id,$index)"><i class="icon-edit icon-large"></i> </a><a class="delete" title="删除菜单" ng-click="deleteMenu(list.menu_id)"><i class="icon-trash icon-large"></i></a></td></tr></tbody></table></div><div class="page" ck-page></div></div><div class="modal fade" tabindex="-1" role="dialog" id="menu_power_list"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">菜单权限</h4></div><div class="modal-body"><div class="table-responsive" ng-show="power_list.length>0"><table class="table table-striped dataList"><thead><tr><th></th><th>权限ID</th><th>权限名称</th><th>权限标识</th><th>操作时间</th><th>简介</th></tr></thead><tbody><tr ng-repeat="power in  power_list"><td data-id="{{power.power_id}}"><input type="checkbox" ng-click="selectTemplate($event,power.power_id)"></td><td ng-bind="power.power_id"></td><td ng-bind="power.name"></td><td ng-bind="power.permission"></td><td ng-bind="power.last_time"></td><td ng-bind="power.remark"></td></tr></tbody></table></div><p ng-show="power_list.length==0">该菜单暂未配置任何权限...</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-danger" ng-click="deleteMenuPower()">删除选中</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="updateMenu"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">修改菜单</h4></div><div class="modal-body"><div class="form-horizontal"><div class="form-group"><label class="col-sm-3 control-label">菜单名称：</label><div class="col-sm-9"><input type="text" class="form-control" placeholder="菜单名称" ng-model="menu_name"></div></div><div class="form-group"><label class="col-sm-3 control-label">菜单别名：</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="alias_name"></div></div><div class="form-group"><label class="col-sm-3 control-label">图标：</label><div class="col-sm-9"><div class="site-demo-upbar"><div class="layui-box layui-upload-button"><form target="layui-upload-iframe" method="post" key="set-mine" enctype="multipart/form-data" id="icon"><input type="file" name="filedata" class="layui-upload-file" id="icon_input"></form><span class="layui-upload-icon"><i class="layui-icon"></i>点击上传</span></div></div><img style="max-height:60px" ng-src="{{picture?IP+picture:'images/none.png'}}" alt="图标"></div></div><div class="form-group"><label class="col-sm-3 control-label">菜单编号：</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="menu_code"></div></div><div class="form-group"><label class="col-sm-3 control-label">菜单类型：</label><div class="col-sm-9"><select id="menu_type" class="form-control" ng-model="menu_type"><option value="" disabled="disabled">请选择菜单类型</option><option value="1">cms</option><option value="2">app</option></select></div></div><div class="form-group"><label class="col-sm-3 control-label">链接：</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="menu_uri"></div></div><div class="form-group"><label class="col-sm-3 control-label">参数：</label><div class="col-sm-9"><textarea ng-model="menu_params" class="form-control" rows="3" style="resize:none"></textarea></div></div><div class="form-group"><label class="col-sm-3 control-label">是否为新功能：</label><div class="col-sm-9"><label class="radio-inline"><input type="radio" ng-model="is_new" value="0">否</label> <label class="radio-inline"><input type="radio" ng-model="is_new" value="1">是</label></div></div><div class="form-group"><label class="col-sm-3 control-label">简介：</label><div class="col-sm-9"><textarea ng-model="remark" class="form-control" placeholder="简介" rows="3" style="resize:none"></textarea></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="saveMenu()">保存</button></div></div></div></div><div class="modal fade" tabindex="-1" role="dialog" id="add_menu_power"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-title">权限列表</div></div><div class="modal-body"><div class="table-responsive"><table class="table table-striped dataList"><thead><tr><th></th><th>权限名称</th><th>权限标识</th><th>备注</th></tr></thead><tr ng-repeat="power in allPower"><td data-id="{{power.power_id}}"><input type="checkbox" ng-click="selectTemplate($event,power.power_id)"></td><td ng-bind="power.name"></td><td ng-bind="power.permission"></td><td ng-bind="power.remark"></td></tr></table></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="addMenuPower()">配置权限菜单</button></div></div></div></div>